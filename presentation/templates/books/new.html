{% extends "base.html" %}

{% block title %}Nuevo Libro{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card p-4 shadow">
        <h1 class="mb-4">Nuevo Libro</h1>

        <form method="POST">
            <div class="mb-3">
                <label class="form-label">Titulo</label>
                <input type="text" class="form-control" name="titulo" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Autor</label>
                <input type="text" class="form-control" name="autor" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Editorial</label>
                <input type="text" class="form-control" name="editorial" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Año</label>
                <input type="number" class="form-control" name="anio" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Precio</label>
                <input type="number" step="0.01" class="form-control" name="precio" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Stock</label>
                <input type="number" class="form-control" name="stock" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Categorías</label>
                {% if categories %}
                    <select class="form-select" name="categorias" multiple aria-label="Seleccionar categorías">
                        {% for cat in categories %}
                            <option value="{{ cat['id_categoria'] }}">{{ cat['nombre'] }}</option>
                        {% endfor %}
                    </select>
                {% else %}
                    <span class="text-muted">No hay categorías cargadas</span>
                {% endif %}
            </div>

            <button type="submit" class="btn btn-success">Crear</button>
            <a href="{{ url_for('web_book.list_books') }}" class="btn btn-secondary">Cancelar</a>
        </form>
    </div>
</div>
{% endblock %}
